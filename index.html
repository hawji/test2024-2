<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹¸ì´í´ ë£¨í‹´ + íƒ€ì´ë¨¸</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 500px;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            color: white;
            margin-bottom: 20px;
        }
        .header h1 {
            font-size: 1.8em;
            margin-bottom: 10px;
        }
        .week-selector {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .week-selector h2 {
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #667eea;
        }
        .week-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        .week-btn {
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            background: white;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        .week-btn:active {
            transform: scale(0.95);
        }
        .week-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }
        .routine-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .routine-card h3 {
            font-size: 1.3em;
            color: #667eea;
            margin-bottom: 15px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        .routine-step {
            padding: 15px;
            margin-bottom: 12px;
            border-radius: 10px;
            background: #f8f9fa;
            border-left: 4px solid #667eea;
        }
        .routine-step.warmup { border-left-color: #28a745; }
        .routine-step.interval { border-left-color: #dc3545; }
        .routine-step.steady { border-left-color: #ffc107; }
        .routine-step.cooldown { border-left-color: #17a2b8; }
        .step-title {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .step-detail {
            font-size: 0.95em;
            color: #666;
            line-height: 1.6;
        }
        .speed-high {
            color: #dc3545;
            font-weight: bold;
        }
        .speed-low {
            color: #28a745;
            font-weight: bold;
        }
        .timer-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .timer-section h3 {
            font-size: 1.3em;
            color: #667eea;
            margin-bottom: 20px;
            text-align: center;
        }
        .timer-display {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 20px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 20px;
        }
        .timer-phase {
            font-size: 1.2em;
            margin-bottom: 10px;
            opacity: 0.9;
        }
        .timer-time {
            font-size: 4em;
            font-weight: bold;
            font-family: 'Courier New', monospace;
            margin-bottom: 10px;
        }
        .timer-speed {
            font-size: 1.5em;
            font-weight: bold;
        }
        .timer-controls {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 15px;
        }
        .timer-btn {
            padding: 18px;
            border: none;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        .timer-btn:active {
            transform: scale(0.95);
        }
        .btn-start {
            background: #28a745;
            color: white;
        }
        .btn-pause {
            background: #ffc107;
            color: #333;
        }
        .btn-reset {
            background: #dc3545;
            color: white;
        }
        .btn-skip {
            background: #17a2b8;
            color: white;
        }
        .progress-bar {
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.1s linear;
        }
        .next-phase {
            text-align: center;
            color: #666;
            font-size: 0.9em;
            margin-top: 15px;
        }
        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: bold;
        }
        .badge-phase1 { background: #ffe5e5; color: #dc3545; }
        .badge-phase2 { background: #fff4e5; color: #ffa500; }
        .badge-phase3 { background: #e5f5ff; color: #17a2b8; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš´â€â™‚ï¸ ì‹¸ì´í´ ë£¨í‹´ & íƒ€ì´ë¨¸</h1>
            <p>10ì›”~4ì›” ëª©í‘œ: 68kg</p>
        </div>

        <div class="week-selector">
            <h2>ğŸ“… ì£¼ì°¨ ì„ íƒ</h2>
            <div class="week-buttons" id="weekButtons"></div>
        </div>

        <div class="routine-card" id="routineCard">
            <h3 id="routineTitle">ë£¨í‹´ ì„ íƒ</h3>
            <div id="routineContent"></div>
        </div>

        <div class="timer-section">
            <h3>â±ï¸ ì¸í„°ë²Œ íƒ€ì´ë¨¸</h3>
            <div class="timer-display">
                <div class="timer-phase" id="timerPhase">ì¤€ë¹„</div>
                <div class="timer-time" id="timerTime">00:00</div>
                <div class="timer-speed" id="timerSpeed">-</div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="timer-controls">
                <button class="timer-btn btn-start" onclick="startTimer()">â–¶ï¸ ì‹œì‘</button>
                <button class="timer-btn btn-pause" onclick="pauseTimer()">â¸ï¸ ì¼ì‹œì •ì§€</button>
                <button class="timer-btn btn-skip" onclick="skipPhase()">â­ï¸ ë‹¤ìŒë‹¨ê³„</button>
                <button class="timer-btn btn-reset" onclick="resetTimer()">ğŸ”„ ë¦¬ì…‹</button>
            </div>
            <div class="next-phase" id="nextPhase">ë‹¤ìŒ: -</div>
        </div>
    </div>

    <script>
        // ì£¼ì°¨ë³„ ë£¨í‹´ ë°ì´í„°
        const weeklyRoutines = {
            // 1ë‹¨ê³„: 10/18 ~ 12/15 (8ì£¼)
            week1: {
                title: "1ì£¼ì°¨ (10/18~10/24)",
                badge: "phase1",
                badgeText: "1ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "18~22km/h", detail: "ì²œì²œíˆ í˜ë‹¬ë§, ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ", time: 20, speed: "33~36â†”20km/h", detail: "1ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 10ì„¸íŠ¸", intervals: [{high: 1, low: 1, sets: 10}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 20, speed: "25~28km/h", detail: "ì¼ì • ì†ë„ ìœ ì§€"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 15, speed: "18~20km/h", detail: "ì²œì²œíˆ ì†ë„ ì¤„ì´ê¸°"}
                ]
            },
            week2: {
                title: "2ì£¼ì°¨ (10/25~10/31)",
                badge: "phase1",
                badgeText: "1ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "20~22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ", time: 20, speed: "35~37â†”20km/h", detail: "1ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 10ì„¸íŠ¸", intervals: [{high: 1, low: 1, sets: 10}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 20, speed: "27~28km/h", detail: "ì¼ì • ì†ë„ ìœ ì§€"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 15, speed: "18~20km/h", detail: "íšŒë³µ"}
                ]
            },
            week3: {
                title: "3ì£¼ì°¨ (11/1~11/7)",
                badge: "phase1",
                badgeText: "1ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "20~22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ", time: 20, speed: "35~38â†”20km/h", detail: "1ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 10ì„¸íŠ¸", intervals: [{high: 1, low: 1, sets: 10}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 20, speed: "27~29km/h", detail: "ì¼ì • ì†ë„ ìœ ì§€"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 15, speed: "18~20km/h", detail: "íšŒë³µ"}
                ]
            },
            week4: {
                title: "4ì£¼ì°¨ (11/8~11/14)",
                badge: "phase1",
                badgeText: "1ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "20~22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ", time: 20, speed: "36~38â†”20km/h", detail: "1ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 10ì„¸íŠ¸", intervals: [{high: 1, low: 1, sets: 10}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 20, speed: "28~30km/h", detail: "ì¼ì • ì†ë„ ìœ ì§€"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 15, speed: "18~20km/h", detail: "íšŒë³µ"}
                ]
            },
            week5: {
                title: "5ì£¼ì°¨ (11/15~11/21)",
                badge: "phase1",
                badgeText: "1ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "20~22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ", time: 20, speed: "36~38â†”20km/h", detail: "1ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 10ì„¸íŠ¸", intervals: [{high: 1, low: 1, sets: 10}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 20, speed: "28~30km/h", detail: "ì¼ì • ì†ë„ ìœ ì§€"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 15, speed: "18~20km/h", detail: "íšŒë³µ"}
                ]
            },
            week6: {
                title: "6ì£¼ì°¨ (11/22~11/28)",
                badge: "phase1",
                badgeText: "1ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "20~22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ", time: 20, speed: "36~38â†”20km/h", detail: "1ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 10ì„¸íŠ¸", intervals: [{high: 1, low: 1, sets: 10}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 20, speed: "28~30km/h", detail: "ì¼ì • ì†ë„ ìœ ì§€"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 15, speed: "18~20km/h", detail: "íšŒë³µ"}
                ]
            },
            week7: {
                title: "7ì£¼ì°¨ (11/29~12/5)",
                badge: "phase1",
                badgeText: "1ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "20~22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ", time: 20, speed: "36~38â†”20km/h", detail: "1ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 10ì„¸íŠ¸", intervals: [{high: 1, low: 1, sets: 10}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 20, speed: "28~30km/h", detail: "ì¼ì • ì†ë„ ìœ ì§€"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 15, speed: "18~20km/h", detail: "íšŒë³µ"}
                ]
            },
            week8: {
                title: "8ì£¼ì°¨ (12/6~12/12)",
                badge: "phase1",
                badgeText: "1ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "20~22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ", time: 20, speed: "36~38â†”20km/h", detail: "1ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 10ì„¸íŠ¸", intervals: [{high: 1, low: 1, sets: 10}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 20, speed: "28~30km/h", detail: "ì¼ì • ì†ë„ ìœ ì§€"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 15, speed: "18~20km/h", detail: "íšŒë³µ"}
                ]
            },
            // 2ë‹¨ê³„: 12/16 ~ 2/15 (8ì£¼)
            week9: {
                title: "9ì£¼ì°¨ (12/13~12/19)",
                badge: "phase2",
                badgeText: "2ë‹¨ê³„ ì „í™˜",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "20km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ ê°•í™”", time: 25, speed: "34~37â†”20km/h", detail: "2ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 8ì„¸íŠ¸", intervals: [{high: 2, low: 1, sets: 8}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "27~29km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 15, speed: "18~20km/h", detail: "íšŒë³µ"}
                ]
            },
            week10: {
                title: "10ì£¼ì°¨ (12/20~12/26)",
                badge: "phase2",
                badgeText: "2ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "20km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ ê°•í™”", time: 25, speed: "34~37â†”20km/h", detail: "2ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 8ì„¸íŠ¸", intervals: [{high: 2, low: 1, sets: 8}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "27~29km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 15, speed: "18~20km/h", detail: "íšŒë³µ"}
                ]
            },
            week11: {
                title: "11ì£¼ì°¨ (12/27~1/2)",
                badge: "phase2",
                badgeText: "2ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "20km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ", time: 25, speed: "34~37â†”20km/h", detail: "2ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 8ì„¸íŠ¸", intervals: [{high: 2, low: 1, sets: 8}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "27~29km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 15, speed: "18~20km/h", detail: "íšŒë³µ"}
                ]
            },
            week12: {
                title: "12ì£¼ì°¨ (1/3~1/9)",
                badge: "phase2",
                badgeText: "2ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "20km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ", time: 25, speed: "34~37â†”20km/h", detail: "2ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 8ì„¸íŠ¸", intervals: [{high: 2, low: 1, sets: 8}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "27~29km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 15, speed: "18~20km/h", detail: "íšŒë³µ"}
                ]
            },
            week13: {
                title: "13ì£¼ì°¨ (1/10~1/16)",
                badge: "phase2",
                badgeText: "2ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "20km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ", time: 25, speed: "35~37â†”20km/h", detail: "2ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 8ì„¸íŠ¸", intervals: [{high: 2, low: 1, sets: 8}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "28~29km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 15, speed: "18~20km/h", detail: "íšŒë³µ"}
                ]
            },
            week14: {
                title: "14ì£¼ì°¨ (1/17~1/23)",
                badge: "phase2",
                badgeText: "2ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "20km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ", time: 25, speed: "35~37â†”20km/h", detail: "2ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 8ì„¸íŠ¸", intervals: [{high: 2, low: 1, sets: 8}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "28~29km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 15, speed: "18~20km/h", detail: "íšŒë³µ"}
                ]
            },
            week15: {
                title: "15ì£¼ì°¨ (1/24~1/30)",
                badge: "phase2",
                badgeText: "2ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "20km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ", time: 25, speed: "35~37â†”20km/h", detail: "2ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 8ì„¸íŠ¸", intervals: [{high: 2, low: 1, sets: 8}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "28~29km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 15, speed: "18~20km/h", detail: "íšŒë³µ"}
                ]
            },
            week16: {
                title: "16ì£¼ì°¨ (1/31~2/6)",
                badge: "phase2",
                badgeText: "2ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "20km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ", time: 25, speed: "35~37â†”20km/h", detail: "2ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 8ì„¸íŠ¸", intervals: [{high: 2, low: 1, sets: 8}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "28~30km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 15, speed: "18~20km/h", detail: "íšŒë³µ"}
                ]
            },
            // 3ë‹¨ê³„: 2/16 ~ 4/30 (10ì£¼)
            week17: {
                title: "17ì£¼ì°¨ (2/7~2/13)",
                badge: "phase3",
                badgeText: "3ë‹¨ê³„ ì „í™˜",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ ìµœì¢…", time: 30, speed: "35~38â†”22km/h", detail: "3ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 7ì„¸íŠ¸", intervals: [{high: 3, low: 1, sets: 7}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "28~30km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 10, speed: "18km/h", detail: "íšŒë³µ"}
                ]
            },
            week18: {
                title: "18ì£¼ì°¨ (2/14~2/20)",
                badge: "phase3",
                badgeText: "3ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ ìµœì¢…", time: 30, speed: "35~38â†”22km/h", detail: "3ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 7ì„¸íŠ¸", intervals: [{high: 3, low: 1, sets: 7}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "28~30km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 10, speed: "18km/h", detail: "íšŒë³µ"}
                ]
            },
            week19: {
                title: "19ì£¼ì°¨ (2/21~2/27)",
                badge: "phase3",
                badgeText: "3ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ ìµœì¢…", time: 30, speed: "35~38â†”22km/h", detail: "3ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 7ì„¸íŠ¸", intervals: [{high: 3, low: 1, sets: 7}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "28~30km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 10, speed: "18km/h", detail: "íšŒë³µ"}
                ]
            },
            week20: {
                title: "20ì£¼ì°¨ (2/28~3/6)",
                badge: "phase3",
                badgeText: "3ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ ìµœì¢…", time: 30, speed: "36~38â†”22km/h", detail: "3ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 7ì„¸íŠ¸", intervals: [{high: 3, low: 1, sets: 7}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "28~30km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 10, speed: "18km/h", detail: "íšŒë³µ"}
                ]
            },
            week21: {
                title: "21ì£¼ì°¨ (3/7~3/13)",
                badge: "phase3",
                badgeText: "3ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ ìµœì¢…", time: 30, speed: "36~38â†”22km/h", detail: "3ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 7ì„¸íŠ¸", intervals: [{high: 3, low: 1, sets: 7}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "29~30km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 10, speed: "18km/h", detail: "íšŒë³µ"}
                ]
            },
            week22: {
                title: "22ì£¼ì°¨ (3/14~3/20)",
                badge: "phase3",
                badgeText: "3ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ ìµœì¢…", time: 30, speed: "36~38â†”22km/h", detail: "3ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 7ì„¸íŠ¸", intervals: [{high: 3, low: 1, sets: 7}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "29~30km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 10, speed: "18km/h", detail: "íšŒë³µ"}
                ]
            },
            week23: {
                title: "23ì£¼ì°¨ (3/21~3/27)",
                badge: "phase3",
                badgeText: "3ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ ìµœì¢…", time: 30, speed: "36~38â†”22km/h", detail: "3ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 7ì„¸íŠ¸", intervals: [{high: 3, low: 1, sets: 7}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "29~30km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 10, speed: "18km/h", detail: "íšŒë³µ"}
                ]
            },
            week24: {
                title: "24ì£¼ì°¨ (3/28~4/3)",
                badge: "phase3",
                badgeText: "3ë‹¨ê³„",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ ìµœì¢…", time: 30, speed: "37~38â†”22km/h", detail: "3ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 7ì„¸íŠ¸", intervals: [{high: 3, low: 1, sets: 7}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "29~30km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 10, speed: "18km/h", detail: "íšŒë³µ"}
                ]
            },
            week25: {
                title: "25ì£¼ì°¨ (4/4~4/10)",
                badge: "phase3",
                badgeText: "3ë‹¨ê³„ ë§ˆë¬´ë¦¬",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ ìµœì¢…", time: 30, speed: "37~38â†”22km/h", detail: "3ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 7ì„¸íŠ¸", intervals: [{high: 3, low: 1, sets: 7}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "30km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 10, speed: "18km/h", detail: "íšŒë³µ"}
                ]
            },
            week26: {
                title: "26ì£¼ì°¨ (4/11~4/17)",
                badge: "phase3",
                badgeText: "3ë‹¨ê³„ ë§ˆë¬´ë¦¬",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ ìµœì¢…", time: 30, speed: "37~38â†”22km/h", detail: "3ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 7ì„¸íŠ¸", intervals: [{high: 3, low: 1, sets: 7}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "30km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 10, speed: "18km/h", detail: "íšŒë³µ"}
                ]
            },
            week27: {
                title: "27ì£¼ì°¨ (4/18~4/24)",
                badge: "phase3",
                badgeText: "ëª©í‘œ ë‹¬ì„±",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ ìµœì¢…", time: 30, speed: "37~38â†”22km/h", detail: "3ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 7ì„¸íŠ¸", intervals: [{high: 3, low: 1, sets: 7}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "30km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 10, speed: "18km/h", detail: "íšŒë³µ"}
                ]
            },
            week28: {
                title: "28ì£¼ì°¨ (4/25~4/30)",
                badge: "phase3",
                badgeText: "ğŸ‰ 68kg ë‹¬ì„±!",
                routine: [
                    {type: "warmup", title: "ì›Œë°ì—…", time: 5, speed: "22km/h", detail: "ëª¸ ì¤€ë¹„"},
                    {type: "interval", title: "ì¸í„°ë²Œ ìµœì¢…", time: 30, speed: "37~38â†”22km/h", detail: "3ë¶„ ê³ ê°•ë„ + 1ë¶„ íšŒë³µ Ã— 7ì„¸íŠ¸", intervals: [{high: 3, low: 1, sets: 7}]},
                    {type: "steady", title: "ì§€ì† ìœ ì‚°ì†Œ", time: 15, speed: "30km/h", detail: "ì¼ì • ì†ë„"},
                    {type: "cooldown", title: "ì¿¨ë‹¤ìš´", time: 10, speed: "18km/h", detail: "íšŒë³µ"}
                ]
            }
        };

        let currentWeek = 'week1';
        let timerInterval = null;
        let isPaused = false;
        let currentPhaseIndex = 0;
        let currentTime = 0;
        let totalTime = 0;
        let currentIntervalSet = 0;
        let isHighIntensity = true;

        // ì£¼ì°¨ ë²„íŠ¼ ìƒì„±
        function initWeekButtons() {
            const container = document.getElementById('weekButtons');
            for (let i = 1; i <= 28; i++) {
                const btn = document.createElement('button');
                btn.className = 'week-btn';
                btn.textContent = `${i}ì£¼ì°¨`;
                btn.onclick = () => selectWeek(`week${i}`);
                if (i === 1) btn.classList.add('active');
                container.appendChild(btn);
            }
        }

        // ì£¼ì°¨ ì„ íƒ
        function selectWeek(week) {
            currentWeek = week;
            document.querySelectorAll('.week-btn').forEach((btn, idx) => {
                btn.classList.toggle('active', idx === parseInt(week.replace('week', '')) - 1);
            });
            displayRoutine();
            resetTimer();
        }

        // ë£¨í‹´ í‘œì‹œ
        function displayRoutine() {
            const routine = weeklyRoutines[currentWeek];
            document.getElementById('routineTitle').innerHTML = `
                ${routine.title} <span class="badge badge-${routine.badge}">${routine.badgeText}</span>
            `;
            
            let html = '';
            routine.routine.forEach((step, idx) => {
                html += `
                    <div class="routine-step ${step.type}">
                        <div class="step-title">
                            <span>${idx + 1}. ${step.title} (${step.time}ë¶„)</span>
                            <span>${step.speed}</span>
                        </div>
                        <div class="step-detail">${step.detail}</div>
                    </div>
                `;
            });
            document.getElementById('routineContent').innerHTML = html;
        }

        // íƒ€ì´ë¨¸ ì‹œì‘
        function startTimer() {
            if (timerInterval) return;
            
            isPaused = false;
            const routine = weeklyRoutines[currentWeek].routine;
            
            if (currentPhaseIndex === 0 && currentTime === 0) {
                totalTime = routine.reduce((sum, phase) => sum + phase.time * 60, 0);
            }

            timerInterval = setInterval(() => {
                if (isPaused) return;

                const currentPhase = routine[currentPhaseIndex];
                
                // ì¸í„°ë²Œ ì²˜ë¦¬
                if (currentPhase.intervals) {
                    const interval = currentPhase.intervals[0];
                    const cycleTime = (interval.high + interval.low) * 60;
                    const phaseTime = currentTime % cycleTime;
                    
                    if (phaseTime < interval.high * 60) {
                        isHighIntensity = true;
                    } else {
                        isHighIntensity = false;
                    }
                    
                    currentIntervalSet = Math.floor(currentTime / cycleTime) + 1;
                }

                currentTime++;
                updateTimerDisplay();

                // ë‹¨ê³„ ì™„ë£Œ ì²´í¬
                if (currentTime >= currentPhase.time * 60) {
                    currentTime = 0;
                    currentPhaseIndex++;
                    currentIntervalSet = 0;
                    
                    // ì‚¬ìš´ë“œ ì¬ìƒ (ì§„ë™)
                    if (navigator.vibrate) {
                        navigator.vibrate([200, 100, 200]);
                    }
                    
                    // ì „ì²´ ì™„ë£Œ
                    if (currentPhaseIndex >= routine.length) {
                        clearInterval(timerInterval);
                        timerInterval = null;
                        alert('ğŸ‰ ìš´ë™ ì™„ë£Œ! ìˆ˜ê³ í–ˆì–´!');
                        resetTimer();
                        return;
                    }
                }
            }, 1000);
        }

        // íƒ€ì´ë¨¸ ì¼ì‹œì •ì§€
        function pauseTimer() {
            isPaused = !isPaused;
            document.querySelector('.btn-pause').textContent = isPaused ? 'â–¶ï¸ ê³„ì†' : 'â¸ï¸ ì¼ì‹œì •ì§€';
        }

        // ë‹¤ìŒ ë‹¨ê³„ë¡œ
        function skipPhase() {
            const routine = weeklyRoutines[currentWeek].routine;
            currentTime = 0;
            currentPhaseIndex++;
            currentIntervalSet = 0;
            
            if (currentPhaseIndex >= routine.length) {
                resetTimer();
            } else {
                updateTimerDisplay();
            }
        }

        // íƒ€ì´ë¨¸ ë¦¬ì…‹
        function resetTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
            isPaused = false;
            currentPhaseIndex = 0;
            currentTime = 0;
            currentIntervalSet = 0;
            isHighIntensity = true;
            document.querySelector('.btn-pause').textContent = 'â¸ï¸ ì¼ì‹œì •ì§€';
            updateTimerDisplay();
        }

        // íƒ€ì´ë¨¸ ë””ìŠ¤í”Œë ˆì´ ì—…ë°ì´íŠ¸
        function updateTimerDisplay() {
            const routine = weeklyRoutines[currentWeek].routine;
            
            if (currentPhaseIndex >= routine.length) {
                document.getElementById('timerPhase').textContent = 'ì™„ë£Œ!';
                document.getElementById('timerTime').textContent = '00:00';
                document.getElementById('timerSpeed').textContent = 'ìˆ˜ê³ í–ˆì–´! ğŸ‰';
                document.getElementById('progressFill').style.width = '100%';
                document.getElementById('nextPhase').textContent = 'ìš´ë™ ì™„ë£Œ';
                return;
            }

            const currentPhase = routine[currentPhaseIndex];
            const remainingTime = (currentPhase.time * 60) - currentTime;
            const minutes = Math.floor(remainingTime / 60);
            const seconds = remainingTime % 60;

            // ë‹¨ê³„ í‘œì‹œ
            let phaseText = `${currentPhaseIndex + 1}. ${currentPhase.title}`;
            if (currentPhase.intervals && currentIntervalSet > 0) {
                phaseText += ` (${currentIntervalSet}/${currentPhase.intervals[0].sets}ì„¸íŠ¸)`;
            }
            document.getElementById('timerPhase').textContent = phaseText;

            // ì‹œê°„ í‘œì‹œ
            document.getElementById('timerTime').textContent = 
                `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;

            // ì†ë„ í‘œì‹œ
            let speedText = currentPhase.speed;
            if (currentPhase.intervals) {
                const speeds = currentPhase.speed.split('â†”');
                speedText = isHighIntensity ? 
                    `<span class="speed-high">${speeds[0]} ğŸ”¥</span>` : 
                    `<span class="speed-low">${speeds[1]} ğŸ’š</span>`;
            }
            document.getElementById('timerSpeed').innerHTML = speedText;

            // ì§„í–‰ë¥ 
            const progress = (currentTime / (currentPhase.time * 60)) * 100;
            document.getElementById('progressFill').style.width = progress + '%';

            // ë‹¤ìŒ ë‹¨ê³„
            if (currentPhaseIndex < routine.length - 1) {
                const nextPhase = routine[currentPhaseIndex + 1];
                document.getElementById('nextPhase').textContent = 
                    `ë‹¤ìŒ: ${nextPhase.title} (${nextPhase.time}ë¶„, ${nextPhase.speed})`;
            } else {
                document.getElementById('nextPhase').textContent = 'ë‹¤ìŒ: ìš´ë™ ì™„ë£Œ!';
            }
        }

        // ì´ˆê¸°í™”
        initWeekButtons();
        displayRoutine();
        updateTimerDisplay();
    </script>
</body>
</html>